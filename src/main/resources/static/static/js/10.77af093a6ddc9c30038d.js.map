{"version":3,"sources":["webpack:///src/page/menu4/menu4_item3.vue","webpack:///./src/page/menu4/menu4_item3.vue?8743","webpack:///./src/page/menu4/menu4_item3.vue","webpack:///src/components/menu4/editCostStatement.vue","webpack:///./src/components/menu4/editCostStatement.vue?95d2","webpack:///./src/components/menu4/editCostStatement.vue"],"names":["menu4_item3","inject","components","EditCostStatement","data","tableData","currentRow","editCostStatementVisible","options","itemNumber","methods","setCurrent","row","this","$refs","singleTable","setCurrentRow","handleCurrentChange","val","load","tree","treeNode","resolve","_this","setTimeout","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","Object","api","costAccountNumber","sent","stop","editCostStatement","_this2","hasChildren","$message","error","totalPrice","$nextTick","init","selectItem","_this3","_callee2","_context2","menu1_api","selectCostStatement","_this4","_callee3","_context3","reloads","reload","created","menu4_menu4_item3","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","type","on","click","filterable","placeholder","change","$event","model","value","callback","$$v","expression","_l","item","key","label","itemName","staticStyle","width","max-height","row-key","highlight-current-row","border","lazy","tree-props","children","current-change","prop","ref","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","dialogVisible","form","workAmount","unitPrice","rules","required","message","trigger","restWorkAmount","totalWorkAmount","onSubmit","_ref","validate","valid","console","log","costStatementId","then","res","success","$parent","abrupt","_x","apply","arguments","resetForm","menu4_editCostStatement","title","visible","update:visible","label-position","label-width","span","readOnly","$set","_n","margin"],"mappings":"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","file":"static/js/10.77af093a6ddc9c30038d.js","sourcesContent":["<template>\n    <div class=\"menu4_item1\">\n    <!-- 成本报表管理 -->\n      <div class=\"blank\">\n      </div>\n      <div class=\"topHead\">\n        <div class=\"buttonList\">\n          <el-button @click=\"editCostStatement\" type=\"primary\">编辑</el-button>\n          <el-select v-model=\"itemNumber\" filterable placeholder=\"请选择项目\" @change=\"selectCostStatement($event)\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.itemNumber\"\n              :label=\"item.itemName\"\n              :value=\"item.itemNumber\">\n            </el-option>\n          </el-select>\n        </div>\n      </div>\n      <el-main>\n        <el-table :data=\"tableData\" style=\"width: 100%\" max-height=\"600px\" row-key=\"costAccountId\" highlight-current-row @current-change=\"handleCurrentChange\" border lazy :load=\"load\" :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\n          <el-table-column type=\"index\" width=\"50\"></el-table-column>\n          <el-table-column prop=\"costAccountNumber\" label=\"成本科目编号\" width=\"200\"></el-table-column>\n          <el-table-column prop=\"costAccountName\" label=\"成本科目名称\" width=\"200\"></el-table-column>\n          <el-table-column prop=\"itemNumber\" label=\"项目编号\" width=\"200\"></el-table-column>\n          <el-table-column prop=\"itemName\" label=\"项目名称\" width=\"200\"></el-table-column>\n          <el-table-column prop=\"totalPrice\" label=\"目标成本\"></el-table-column>\n          <el-table-column prop=\"costIncurred\" label=\"已发生成本\"></el-table-column>\n          <el-table-column prop=\"costWaitIncurred\" label=\"待发生成本\"></el-table-column>\n          <el-table-column prop=\"costDynamics\" label=\"动态成本\"></el-table-column>\n          <el-table-column prop=\"differPrice\" label=\"差异（动态-目标）\"></el-table-column>\n        </el-table>\n      </el-main>\n    <EditCostStatement v-if=\"editCostStatementVisible\" ref=\"EditCostStatement\"></EditCostStatement>\n    </div>\n</template>\n\n<script>\nimport { selectCostStatementChildren, selectCostStatement } from '../../api/menu4/api'\nimport { selectFinish } from '../../api/menu1/api'\nimport EditCostStatement from '../../components/menu4/editCostStatement'\nexport default {\n  inject: ['reload'],\n  components: { EditCostStatement },\n  data () {\n    return {\n      tableData: [],\n      currentRow: null,\n      editCostStatementVisible: false,\n      options: [],\n      itemNumber: null\n    }\n  },\n  methods: {\n    setCurrent (row) {\n      this.$refs.singleTable.setCurrentRow(row)\n    },\n    handleCurrentChange (val) {\n      this.currentRow = val\n    },\n    load (tree, treeNode, resolve) {\n      setTimeout(async () => {\n        const data = await selectCostStatementChildren({costAccountNumber: tree.costAccountNumber})\n        resolve(data.data)\n      }, 125)\n    },\n    editCostStatement () {\n      if (this.currentRow !== null) {\n        if (this.currentRow.hasChildren === true) {\n          this.$message.error('请选择详细科目')\n        } else if (this.currentRow.totalPrice === null) {\n          this.$message.error('请先设置目标成本')\n        } else {\n          this.editCostStatementVisible = true\n          this.$nextTick(() => {\n            this.$refs.EditCostStatement.init(this.currentRow)\n          })\n        }\n      } else {\n        this.$message.error('请选择一项成本科目')\n      }\n    },\n    async selectItem () {\n      const data = await selectFinish()\n      this.options = data.data\n      this.selectCostStatement()\n    },\n    async selectCostStatement () {\n      this.itemNumber = this.options[0].itemNumber\n      const data = await selectCostStatement({itemNumber: this.itemNumber})\n      this.tableData = data.data\n    },\n    reloads () {\n      this.reload()\n    }\n  },\n  created () {\n    this.selectItem()\n  }\n}\n</script>\n\n<style>\n  .blank{\n    width:100%;\n    height:15px;\n  }\n  .topHead{\n    width:100%;\n    height:32px;\n    padding:0 20px 0 20px;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    -o-box-sizing: border-box;\n    -ms-box-sizing: border-box;\n    overflow: hidden;\n  }\n  .buttonList{\n    float:left\n  }\n\n  .el-table .warning-row {\n    background: oldlace;\n  }\n  .el-table .success-row {\n    background: #f0f9eb;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/menu4/menu4_item3.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu4_item1\"},[_c('div',{staticClass:\"blank\"}),_vm._v(\" \"),_c('div',{staticClass:\"topHead\"},[_c('div',{staticClass:\"buttonList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editCostStatement}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择项目\"},on:{\"change\":function($event){return _vm.selectCostStatement($event)}},model:{value:(_vm.itemNumber),callback:function ($$v) {_vm.itemNumber=$$v},expression:\"itemNumber\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.itemNumber,attrs:{\"label\":item.itemName,\"value\":item.itemNumber}})}),1)],1)]),_vm._v(\" \"),_c('el-main',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"max-height\":\"600px\",\"row-key\":\"costAccountId\",\"highlight-current-row\":\"\",\"border\":\"\",\"lazy\":\"\",\"load\":_vm.load,\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costAccountNumber\",\"label\":\"成本科目编号\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costAccountName\",\"label\":\"成本科目名称\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"itemNumber\",\"label\":\"项目编号\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"itemName\",\"label\":\"项目名称\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalPrice\",\"label\":\"目标成本\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costIncurred\",\"label\":\"已发生成本\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costWaitIncurred\",\"label\":\"待发生成本\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costDynamics\",\"label\":\"动态成本\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"differPrice\",\"label\":\"差异（动态-目标）\"}})],1)],1),_vm._v(\" \"),(_vm.editCostStatementVisible)?_c('EditCostStatement',{ref:\"EditCostStatement\"}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-c6520f32\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/menu4/menu4_item3.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c6520f32\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./menu4_item3.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menu4_item3.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menu4_item3.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c6520f32\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./menu4_item3.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/menu4/menu4_item3.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"editCostStatement\">\n    <!-- 编辑成本报表弹框 -->\n    <el-dialog title=\"编辑\" :visible.sync=\"dialogVisible\" width=\"700px\">\n      <el-form label-position=\"right\" :rules=\"rules\" ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"项目编号：\" prop=\"itemNumber\" style=\"width:320px\">\n              <el-input v-model=\"form.itemNumber\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"项目名称：\" prop=\"itemName\" style=\"width:320px\">\n              <el-input v-model=\"form.itemName\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"科目编号：\" prop=\"costAccountNumber\" style=\"width:320px\">\n              <el-input v-model=\"form.costAccountNumber\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"科目名称：\" prop=\"costAccountName\" style=\"width:320px\">\n              <el-input v-model=\"form.costAccountName\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"总工作量：\" prop=\"totalWorkAmount\" style=\"width:320px\">\n              <el-input v-model.number=\"form.totalWorkAmount\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"原单价：\" prop=\"oldUnitPrice\" style=\"width:320px\">\n              <el-input v-model.number=\"form.oldUnitPrice\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"剩余工作量：\" prop=\"restWorkAmount\" style=\"width:320px\">\n              <el-input v-model=\"form.restWorkAmount\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"单位：\" prop=\"measurementUnit\" style=\"width:320px\">\n              <el-input v-model=\"form.measurementUnit\" readOnly></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"工作量：\" prop=\"workAmount\" style=\"width:320px\">\n              <el-input v-model.number=\"form.workAmount\" placeholder=\"请输入本次工作量\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"单价：\" prop=\"unitPrice\" style=\"width:320px\">\n              <el-input v-model.number=\"form.unitPrice\" placeholder=\"请输入单价\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item style=\"margin:20px 0 0 170px\">\n          <el-button type=\"primary\" @click=\"onSubmit('form')\">确认</el-button>\n          <el-button @click=\"resetForm()\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { insertCostStatement, updateCostStatement } from '../../api/menu4/api'\nexport default {\n  inject: ['reload'],\n  data () {\n    return {\n      dialogVisible: false,\n      form: {\n        itemNumber: null,\n        itemName: null,\n        costAccountNumber: null,\n        workAmount: null,\n        unitPrice: null,\n        totalPrice: null\n      },\n      rules: {\n        workAmount: [\n          {required: true, message: '请输入本次工作量', trigger: 'blur'},\n          {type: 'number', message: '请输入数字'}\n        ],\n        unitPrice: [\n          {required: true, message: '请输入单价', trigger: 'blur'},\n          {type: 'number', message: '请输入数字'}\n        ]\n      }\n    }\n  },\n  methods: {\n    async init (data) {\n      this.dialogVisible = true\n      this.form = data\n      if (this.form.restWorkAmount === null) {\n        this.form.restWorkAmount = this.form.totalWorkAmount\n      }\n    },\n    onSubmit (form) {\n      this.$refs[form].validate(async (valid) => {\n        if (valid) {\n          console.log(this.form)\n          if (this.form.costStatementId === null) {\n            if (this.form.workAmount > this.form.restWorkAmount) {\n              this.$message.error('数值过大')\n            } else {\n              await insertCostStatement(this.form).then((res) => {\n                this.$message.success('编辑成功')\n                this.$parent.reloads()\n                this.dialogVisible = false\n              })\n            }\n          } else {\n            if (this.form.workAmount > this.form.restWorkAmount) {\n              this.$message.error('数值过大')\n            } else {\n              await updateCostStatement(this.form).then((res) => {\n                this.$message.success('更新成功')\n                this.$parent.reloads()\n                this.dialogVisible = false\n              })\n            }\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    resetForm () {\n      this.dialogVisible = false\n    }\n  },\n  created () {\n  }\n}\n</script>\n<style>\n.editCostStatement .el-form-item__label {\n  width: 95px!important;\n  padding: 0 5px 0 5px!important;\n  webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.editCostStatement .el-form-item__content {\n  margin-left: 95px!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/menu4/editCostStatement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editCostStatement\"},[_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.dialogVisible,\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-position\":\"right\",\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"项目编号：\",\"prop\":\"itemNumber\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.itemNumber),callback:function ($$v) {_vm.$set(_vm.form, \"itemNumber\", $$v)},expression:\"form.itemNumber\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"项目名称：\",\"prop\":\"itemName\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.itemName),callback:function ($$v) {_vm.$set(_vm.form, \"itemName\", $$v)},expression:\"form.itemName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"科目编号：\",\"prop\":\"costAccountNumber\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.costAccountNumber),callback:function ($$v) {_vm.$set(_vm.form, \"costAccountNumber\", $$v)},expression:\"form.costAccountNumber\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"科目名称：\",\"prop\":\"costAccountName\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.costAccountName),callback:function ($$v) {_vm.$set(_vm.form, \"costAccountName\", $$v)},expression:\"form.costAccountName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"总工作量：\",\"prop\":\"totalWorkAmount\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.totalWorkAmount),callback:function ($$v) {_vm.$set(_vm.form, \"totalWorkAmount\", _vm._n($$v))},expression:\"form.totalWorkAmount\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"原单价：\",\"prop\":\"oldUnitPrice\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.oldUnitPrice),callback:function ($$v) {_vm.$set(_vm.form, \"oldUnitPrice\", _vm._n($$v))},expression:\"form.oldUnitPrice\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"剩余工作量：\",\"prop\":\"restWorkAmount\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.restWorkAmount),callback:function ($$v) {_vm.$set(_vm.form, \"restWorkAmount\", $$v)},expression:\"form.restWorkAmount\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"单位：\",\"prop\":\"measurementUnit\"}},[_c('el-input',{attrs:{\"readOnly\":\"\"},model:{value:(_vm.form.measurementUnit),callback:function ($$v) {_vm.$set(_vm.form, \"measurementUnit\", $$v)},expression:\"form.measurementUnit\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"工作量：\",\"prop\":\"workAmount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入本次工作量\"},model:{value:(_vm.form.workAmount),callback:function ($$v) {_vm.$set(_vm.form, \"workAmount\", _vm._n($$v))},expression:\"form.workAmount\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"单价：\",\"prop\":\"unitPrice\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单价\"},model:{value:(_vm.form.unitPrice),callback:function ($$v) {_vm.$set(_vm.form, \"unitPrice\", _vm._n($$v))},expression:\"form.unitPrice\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin\":\"20px 0 0 170px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm()}}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-39595712\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/menu4/editCostStatement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39595712\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./editCostStatement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./editCostStatement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./editCostStatement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39595712\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./editCostStatement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu4/editCostStatement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
webpackJsonp([15],{"+RFk":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("lC5x"),n=r.n(o),l=r("J0Oq"),a=r.n(l),i=r("qbod"),s={inject:["reload"],data:function(){return{dialogVisible:!1,form:{itemNumber:null,itemName:null,costAccountNumber:null,workAmount:null,measurementUnit:null,unitPrice:null,totalPrice:null},measurementUnit:[{id:"1",value:"m"},{id:"2",value:"㎡"},{id:"3",value:"m³"},{id:"4",value:"其他"}],rules:{workAmount:[{required:!0,message:"请输入工作量",trigger:"blur"},{type:"number",message:"请输入数字"}],measurementUnit:[{required:!0,message:"请选择单位",trigger:"change"}],unitPrice:[{required:!0,message:"请输入单价",trigger:"blur"},{type:"number",message:"请输入数字"}]}}},methods:{init:function(e){var t=this;return a()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.dialogVisible=!0,t.form=e;case 2:case"end":return r.stop()}},r,t)}))()},onSubmit:function(e){var t,r=this;this.$refs[e].validate((t=a()(n.a.mark(function e(t){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}if(null!==r.form.totalPrice){e.next=7;break}return r.form.totalPrice=r.form.workAmount*r.form.unitPrice,e.next=5,Object(i.e)(r.form).then(function(e){r.$message.success("编辑成功"),r.$parent.reloads(),r.dialogVisible=!1});case 5:e.next=10;break;case 7:return r.form.totalPrice=r.form.workAmount*r.form.unitPrice,e.next=10,Object(i.m)(r.form).then(function(e){r.$message.success("更新成功"),r.$parent.reloads(),r.dialogVisible=!1});case 10:e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},resetForm:function(){this.dialogVisible=!1}},created:function(){}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editCostTargetInfo"},[r("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{"label-position":"right",rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"项目编号：",prop:"itemNumber"}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.itemNumber,callback:function(t){e.$set(e.form,"itemNumber",t)},expression:"form.itemNumber"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"项目名称：",prop:"itemName"}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.itemName,callback:function(t){e.$set(e.form,"itemName",t)},expression:"form.itemName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"科目编号：",prop:"costAccountNumber"}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.costAccountNumber,callback:function(t){e.$set(e.form,"costAccountNumber",t)},expression:"form.costAccountNumber"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"科目名称：",prop:"costAccountName"}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.costAccountName,callback:function(t){e.$set(e.form,"costAccountName",t)},expression:"form.costAccountName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"工作量：",prop:"workAmount"}},[r("el-input",{model:{value:e.form.workAmount,callback:function(t){e.$set(e.form,"workAmount",e._n(t))},expression:"form.workAmount"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"单位：",prop:"measurementUnit"}},[r("el-select",{staticStyle:{width:"225px"},attrs:{placeholder:"请选择单位"},model:{value:e.form.measurementUnit,callback:function(t){e.$set(e.form,"measurementUnit",t)},expression:"form.measurementUnit"}},e._l(e.measurementUnit,function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"单价：",prop:"unitPrice"}},[r("el-input",{model:{value:e.form.unitPrice,callback:function(t){e.$set(e.form,"unitPrice",e._n(t))},expression:"form.unitPrice"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"320px"},attrs:{label:"总价：",prop:"totalPrice"}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.totalPrice,callback:function(t){e.$set(e.form,"totalPrice",t)},expression:"form.totalPrice"}})],1)],1)],1),e._v(" "),r("el-form-item",{staticStyle:{margin:"20px 0 0 170px"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确认")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var u=r("C7Lr")(s,m,!1,function(e){r("+k7W")},null,null);t.default=u.exports},"+k7W":function(e,t){}});
//# sourceMappingURL=15.fdee645341e49b64612d.js.map
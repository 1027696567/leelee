{"version":3,"sources":["webpack:///src/components/menu3/addTask.vue","webpack:///./src/components/menu3/addTask.vue?3058","webpack:///./src/components/menu3/addTask.vue"],"names":["addTask","inject","data","dialogVisible","form","itemNumber","itemName","taskNumber","taskName","planBeginTime","planEndTime","taskTime","planCheckTime","taskPriority","fatherNumber","hasChildren","itemInfo","taskInfo","rules","required","message","trigger","priorityInfo","priorityId","priorityName","methods","getRole","prov","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","this","next","done","val","value","err","return","getList","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","reset","$refs","clearValidate","selectAll","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","Object","menu3_api","sent","stop","init","onSubmit","_ref","_this2","validate","_callee2","valid","_context2","$message","success","reload","abrupt","_x","apply","arguments","parent","$parent","resetForm","resetFields","closeDiv","selectAllItemInfo","_this3","_callee3","_context3","api","selectAllTask","_this4","_callee4","_context4","created","menu3_addTask","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","visible","width","before-close","on","update:visible","$event","ref","label-position","model","label-width","span","staticStyle","label","prop","change","callback","$$v","$set","expression","_l","item","key","itemId","_v","type","placeholder","default-time","disabled","taskId","margin","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.6a500d79646e0f8c414c.js","sourcesContent":["<template>\n  <div class=\"addTaskInfo\">\n    <!-- 添加任务信息弹框 -->\n    <el-dialog title=\"新建\" :visible.sync=\"dialogVisible\" width=\"700px\" :before-close=\"closeDiv\">\n      <el-form label-position=\"right\" :rules=\"rules\" ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"项目编号：\" prop=\"itemNumber\" style=\"width:320px\">\n              <el-select v-model=\"form.itemNumber\" @change=\"getRole($event)\" style=\"width:225px\">\n                <el-option\n                  v-for=\"item in itemInfo\"\n                  :key=\"item.itemId\"\n                  :label=\"item.itemNumber\"\n                  :value=\"item.itemNumber\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"项目名称：\" prop=\"itemName\" style=\"width:320px\">\n                <el-select v-model=\"form.itemName\" @change=\"getList($event)\" style=\"width:225px\">\n                  <el-option\n                    v-for=\"item in itemInfo\"\n                    :key=\"item.itemId\"\n                    :label=\"item.itemName\"\n                    :value=\"item.itemName\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"任务编号：\" prop=\"taskNumber\" style=\"width:320px\">\n              <el-input v-model=\"form.taskNumber\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"任务名称：\" prop=\"taskName\" style=\"width:320px\">\n              <el-input v-model=\"form.taskName\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"计划开始：\" prop=\"planBeginTime\" style=\"width:320px\">\n              <el-date-picker v-model=\"form.planBeginTime\" type=\"datetime\" placeholder=\"请选择计划开始时间\" default-time=\"12:00:00\" style=\"width:225px\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"计划完成：\" prop=\"planEndTime\" style=\"width:320px\">\n              <el-date-picker v-model=\"form.planEndTime\" type=\"datetime\" placeholder=\"请选择计划完成时间\" default-time=\"12:00:00\" style=\"width:225px\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"工期(天)：\" prop=\"taskTime\" style=\"width:320px\">\n              <el-input v-model=\"form.taskTime\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"考核时间：\" prop=\"planCheckTime\" style=\"width:320px\">\n              <el-date-picker v-model=\"form.planCheckTime\" type=\"datetime\" placeholder=\"请选择考核时间\" default-time=\"12:00:00\" style=\"width:225px\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"优先级：\" prop=\"taskPriority\" style=\"width:320px\">\n              <el-select v-model=\"form.taskPriority\" placeholder=\"请选择优先级\" style=\"width:225px\">\n                <el-option\n                  v-for=\"item in priorityInfo\"\n                  :key=\"item.priorityId\"\n                  :label=\"item.priorityName\"\n                  :value=\"item.priorityName\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"主节点：\" prop=\"hasChildren\" style=\"width:320px\">\n              <el-radio v-model=\"form.hasChildren\" :label=\"true\" @change=\"reset($event)\">是</el-radio>\n              <el-radio v-model=\"form.hasChildren\" :label=\"false\">否</el-radio>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"父节点：\" prop=\"fatherNumber\" style=\"width:320px\"\n            :rules=\"this.form.hasChildren === false?[{ required: true, message: '请选择父节点，若无父节点请先创建主节点！', trigger: 'change' }]:[]\">\n              <el-select v-model=\"form.fatherNumber\" placeholder=\"请选择父节点编号\" style=\"width:225px\" :disabled=\"this.form.hasChildren !== false\">\n                <el-option\n                  v-for=\"item in taskInfo\"\n                  :key=\"item.taskId\"\n                  :label=\"item.taskNumber\"\n                  :value=\"item.taskNumber\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item style=\"margin:20px 0 0 170px\">\n          <el-button type=\"primary\" @click=\"onSubmit('form')\">确认</el-button>\n          <el-button @click=\"resetForm('form')\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { selectFinish } from '../../api/menu1/api'\nimport { addTask, selectAll } from '../../api/menu3/api'\nexport default {\n  inject: ['reload'],\n  data () {\n    return {\n      dialogVisible: false,\n      form: {\n        itemNumber: '',\n        itemName: '',\n        taskNumber: '',\n        taskName: '',\n        planBeginTime: '',\n        planEndTime: '',\n        taskTime: '',\n        planCheckTime: '',\n        taskPriority: '',\n        fatherNumber: '',\n        hasChildren: false\n      },\n      itemInfo: [],\n      taskInfo: [],\n      rules: {\n        itemNumber: [\n          {required: true, message: '请选择项目编号', trigger: 'change'}\n        ],\n        itemName: [\n          {required: true, message: '请选择项目名称', trigger: 'change'}\n        ],\n        taskNumber: [\n          {required: true, message: '请输入任务编号', trigger: 'blur'}\n        ],\n        taskName: [\n          {required: true, message: '请输入任务名称', trigger: 'blur'}\n        ],\n        planBeginTime: [\n          {required: true, message: '请选择计划开始时间', trigger: 'change'}\n        ],\n        planEndTime: [\n          {required: true, message: '请选择计划完成时间', trigger: 'change'}\n        ],\n        taskTime: [\n          {required: true, message: '请输入工期', trigger: 'blur'}\n        ],\n        planCheckTime: [\n          {required: true, message: '请选择考核时间', trigger: 'change'}\n        ],\n        taskPriority: [\n          {required: true, message: '请选择计划优先级', trigger: 'change'}\n        ],\n        hasChildren: [\n          {required: true, message: '请选择是否为主节点', trigger: 'change'}\n        ]\n      },\n      priorityInfo: [{\n        priorityId: '1',\n        priorityName: 'Ⅰ级'\n      }, {\n        priorityId: '2',\n        priorityName: 'Ⅱ级'\n      }, {\n        priorityId: '3',\n        priorityName: 'Ⅲ级'\n      }]\n    }\n  },\n  methods: {\n    getRole (prov) {\n      for (var val of this.itemInfo) {\n        if (prov === val.itemNumber) {\n          this.form.itemName = val.itemName\n        }\n      }\n    },\n    getList (prov) {\n      for (var val of this.itemInfo) {\n        if (prov === val.itemName) {\n          this.form.itemNumber = val.itemNumber\n        }\n      }\n    },\n    reset (prov) {\n      this.$refs.form.clearValidate(['fatherNumber'])\n      this.form.fatherNumber = ''\n    },\n    async selectAll () {\n      const data = await selectAll()\n      this.taskInfo = data.data\n    },\n    init () {\n      this.dialogVisible = true\n    },\n    onSubmit (form) {\n      this.$refs[form].validate(async (valid) => {\n        if (valid) {\n          await addTask(this.form)\n          this.$message.success('新建成功')\n          this.dialogVisible = false\n          this.reload()\n        } else {\n          return false\n        }\n      })\n    },\n    parent () {\n      this.$parent.selectAll()\n    },\n    resetForm (form) {\n      this.$refs[form].resetFields()\n      this.dialogVisible = false\n    },\n    closeDiv (done) {\n      this.$refs['form'].resetFields()\n      done()\n    },\n    async selectAllItemInfo () {\n      const data = await selectFinish()\n      this.itemInfo = data.data\n    },\n    async selectAllTask () {\n      const data = await selectAll()\n      this.taskInfo = data.data\n    }\n  },\n  created () {\n    this.selectAllItemInfo()\n    this.selectAllTask()\n  }\n}\n</script>\n<style>\n.addTaskInfo .el-form-item__label {\n  width: 95px!important;\n  padding: 0 5px 0 5px!important;\n  webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.addTaskInfo .el-form-item__content {\n  margin-left: 95px!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/menu3/addTask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addTaskInfo\"},[_c('el-dialog',{attrs:{\"title\":\"新建\",\"visible\":_vm.dialogVisible,\"width\":\"700px\",\"before-close\":_vm.closeDiv},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-position\":\"right\",\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"项目编号：\",\"prop\":\"itemNumber\"}},[_c('el-select',{staticStyle:{\"width\":\"225px\"},on:{\"change\":function($event){return _vm.getRole($event)}},model:{value:(_vm.form.itemNumber),callback:function ($$v) {_vm.$set(_vm.form, \"itemNumber\", $$v)},expression:\"form.itemNumber\"}},_vm._l((_vm.itemInfo),function(item){return _c('el-option',{key:item.itemId,attrs:{\"label\":item.itemNumber,\"value\":item.itemNumber}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"项目名称：\",\"prop\":\"itemName\"}},[_c('el-select',{staticStyle:{\"width\":\"225px\"},on:{\"change\":function($event){return _vm.getList($event)}},model:{value:(_vm.form.itemName),callback:function ($$v) {_vm.$set(_vm.form, \"itemName\", $$v)},expression:\"form.itemName\"}},_vm._l((_vm.itemInfo),function(item){return _c('el-option',{key:item.itemId,attrs:{\"label\":item.itemName,\"value\":item.itemName}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"任务编号：\",\"prop\":\"taskNumber\"}},[_c('el-input',{model:{value:(_vm.form.taskNumber),callback:function ($$v) {_vm.$set(_vm.form, \"taskNumber\", $$v)},expression:\"form.taskNumber\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"任务名称：\",\"prop\":\"taskName\"}},[_c('el-input',{model:{value:(_vm.form.taskName),callback:function ($$v) {_vm.$set(_vm.form, \"taskName\", $$v)},expression:\"form.taskName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"计划开始：\",\"prop\":\"planBeginTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"225px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"请选择计划开始时间\",\"default-time\":\"12:00:00\"},model:{value:(_vm.form.planBeginTime),callback:function ($$v) {_vm.$set(_vm.form, \"planBeginTime\", $$v)},expression:\"form.planBeginTime\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"计划完成：\",\"prop\":\"planEndTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"225px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"请选择计划完成时间\",\"default-time\":\"12:00:00\"},model:{value:(_vm.form.planEndTime),callback:function ($$v) {_vm.$set(_vm.form, \"planEndTime\", $$v)},expression:\"form.planEndTime\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"工期(天)：\",\"prop\":\"taskTime\"}},[_c('el-input',{model:{value:(_vm.form.taskTime),callback:function ($$v) {_vm.$set(_vm.form, \"taskTime\", $$v)},expression:\"form.taskTime\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"考核时间：\",\"prop\":\"planCheckTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"225px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"请选择考核时间\",\"default-time\":\"12:00:00\"},model:{value:(_vm.form.planCheckTime),callback:function ($$v) {_vm.$set(_vm.form, \"planCheckTime\", $$v)},expression:\"form.planCheckTime\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"优先级：\",\"prop\":\"taskPriority\"}},[_c('el-select',{staticStyle:{\"width\":\"225px\"},attrs:{\"placeholder\":\"请选择优先级\"},model:{value:(_vm.form.taskPriority),callback:function ($$v) {_vm.$set(_vm.form, \"taskPriority\", $$v)},expression:\"form.taskPriority\"}},_vm._l((_vm.priorityInfo),function(item){return _c('el-option',{key:item.priorityId,attrs:{\"label\":item.priorityName,\"value\":item.priorityName}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"主节点：\",\"prop\":\"hasChildren\"}},[_c('el-radio',{attrs:{\"label\":true},on:{\"change\":function($event){return _vm.reset($event)}},model:{value:(_vm.form.hasChildren),callback:function ($$v) {_vm.$set(_vm.form, \"hasChildren\", $$v)},expression:\"form.hasChildren\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":false},model:{value:(_vm.form.hasChildren),callback:function ($$v) {_vm.$set(_vm.form, \"hasChildren\", $$v)},expression:\"form.hasChildren\"}},[_vm._v(\"否\")])],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{staticStyle:{\"width\":\"320px\"},attrs:{\"label\":\"父节点：\",\"prop\":\"fatherNumber\",\"rules\":this.form.hasChildren === false?[{ required: true, message: '请选择父节点，若无父节点请先创建主节点！', trigger: 'change' }]:[]}},[_c('el-select',{staticStyle:{\"width\":\"225px\"},attrs:{\"placeholder\":\"请选择父节点编号\",\"disabled\":this.form.hasChildren !== false},model:{value:(_vm.form.fatherNumber),callback:function ($$v) {_vm.$set(_vm.form, \"fatherNumber\", $$v)},expression:\"form.fatherNumber\"}},_vm._l((_vm.taskInfo),function(item){return _c('el-option',{key:item.taskId,attrs:{\"label\":item.taskNumber,\"value\":item.taskNumber}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin\":\"20px 0 0 170px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('form')}}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1512c1bd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/menu3/addTask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1512c1bd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addTask.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addTask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addTask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1512c1bd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addTask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu3/addTask.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
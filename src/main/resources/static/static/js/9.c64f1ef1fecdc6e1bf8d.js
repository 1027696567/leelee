webpackJsonp([9,19],{"/uAU":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("lC5x"),a=r.n(l),n=r("J0Oq"),s=r.n(n),o=r("P9l9"),i={components:{EditUser:r("RJ9F").default},data:function(){return{tableData:{username:"",realName:"",roleName:"",email:"",mobile:"",status:""},editUserVisible:!1,search:""}},methods:{getUser:function(){var e=this;return s()(a.a.mark(function t(){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.d)();case 2:r=t.sent,e.tableData=r.data;case 4:case"end":return t.stop()}},t,e)}))()},handleEdit:function(e,t){var r=this;this.editUserVisible=!0,this.$nextTick(function(){r.$refs.EditUser.init(t)})},handleDelete:function(e,t){var r=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)(t.userId);case 2:r.getUser();case 3:case"end":return e.stop()}},e,r)}))()}},created:function(){this.getUser()}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menu5_item1"},[r("el-main",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter(function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())||t.realName.toLowerCase().includes(e.search.toLowerCase())}),"max-height":"650",border:""}},[r("el-table-column",{attrs:{label:"用户账号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.username))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.realName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"用户组",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.roleName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"邮箱",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.email))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.mobile))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.status))])]}}])}),e._v(" "),r("el-table-column",{attrs:{"min-width":"180"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"输入用户账号或姓名搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger",disabled:"禁用"===t.row.status},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("禁用")])]}}])})],1),e._v(" "),e.editUserVisible?r("EditUser",{ref:"EditUser"}):e._e()],1)],1)},staticRenderFns:[]};var u=r("C7Lr")(i,c,!1,function(e){r("1cdL")},null,null);t.default=u.exports},"1cdL":function(e,t){},RJ9F:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("HzJ8"),a=r.n(l),n=r("P9l9"),s={inject:["reload"],data:function(){return{dialogVisible:!1,form:{roleName:[]}}},methods:{init:function(e){console.log(e),this.dialogVisible=!0,this.form.username=e.username,this.form.email=e.email,this.form.mobile=e.mobile,this.form.company=e.company,this.form.roleName=e.roleName.split("，"),this.form.userId=e.userId},onSubmit:function(){var e=this,t=[],r=!0,l=!1,s=void 0;try{for(var o,i=a()(this.form.roleName);!(r=(o=i.next()).done);r=!0){var c=o.value;"管理员"===c?t.push(1):"普通用户"===c?t.push(4):"认证用户"===c?t.push(5):"普通员工"===c?t.push(6):"经理"===c?t.push(2):"董事长"===c&&t.push(7)}}catch(e){l=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(l)throw s}}this.form.roleId=t,this.form.roleName=this.form.roleName.toString(),console.log(this.form),Object(n.f)(this.form).then(function(t){e.$message.success("更新成功"),e.reload(),e.dialogVisible=!1})},reset:function(){this.dialogVisible=!1}},created:function(){}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editAuthorization"},[r("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible,width:"650px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{"label-position":"left",model:e.form,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"用户名："}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"邮箱："}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"手机号："}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"所属公司："}},[r("el-input",{attrs:{readOnly:""},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"角色："}},[r("el-checkbox-group",{attrs:{min:1},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}},[r("el-checkbox",{attrs:{label:"管理员"}}),e._v(" "),r("el-checkbox",{attrs:{label:"普通用户"}}),e._v(" "),r("el-checkbox",{attrs:{label:"认证用户"}}),e._v(" "),r("el-checkbox",{attrs:{label:"普通员工"}}),e._v(" "),r("el-checkbox",{attrs:{label:"经理"}}),e._v(" "),r("el-checkbox",{attrs:{label:"董事长"}})],1)],1),e._v(" "),r("el-form-item",{staticStyle:{margin:"20px 0 0 150px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认")]),e._v(" "),r("el-button",{on:{click:e.reset}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var i=r("C7Lr")(s,o,!1,function(e){r("rPOW")},null,null);t.default=i.exports},rPOW:function(e,t){}});
//# sourceMappingURL=9.c64f1ef1fecdc6e1bf8d.js.map
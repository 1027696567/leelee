webpackJsonp([26],{KFrj:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("lC5x"),n=r.n(a),c=r("J0Oq"),o=r.n(c),s=r("GZu3"),l={inject:["reload"],data:function(){return{tableData:[],currentRow:null}},methods:{setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t)},handleCurrentChange:function(t){this.currentRow=t},addContract:function(){this.$router.push("/addContract")},selectAllContractInfo:function(){var t=this;return o()(n.a.mark(function e(){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)();case 2:r=e.sent,t.tableData=r.data;case 4:case"end":return e.stop()}},e,t)}))()},load:function(t,e,r){var a=this;setTimeout(o()(n.a.mark(function e(){var c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)({fatherNumber:t.contractNumber});case 2:c=e.sent,r(c.data);case 4:case"end":return e.stop()}},e,a)})),500)},editContract:function(){null!==this.currentRow?(sessionStorage.setItem("contractNumber",this.currentRow.contractNumber),this.$router.push("editContract")):this.$message.error("请选择一项合同")},deleteContract:function(t){var e,r=this;null!==this.currentRow?this.$confirm("此操作不可恢复，确认继续？").then((e=o()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)(r.currentRow);case 2:r.reload(),r.$message.success("解除成功");case 4:case"end":return t.stop()}},t,r)})),function(t){return e.apply(this,arguments)})).catch(function(t){}):this.$message.error("请选择一项合同")},tableRowClassName:function(t){var e=t.row;t.rowIndex;return"3"===e.contractTypes?"success-row":""}},created:function(){this.selectAllContractInfo()}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu2_item1"},[r("div",{staticClass:"blank"}),t._v(" "),r("div",{staticClass:"topHead"},[r("div",{staticClass:"buttonList"},[r("el-button",{on:{click:t.addContract}},[t._v("签订合同")]),t._v(" "),r("el-button",{on:{click:t.editContract}},[t._v("变更合同")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.deleteContract}},[t._v("解除合同")])],1)]),t._v(" "),r("el-main",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"contractId","row-class-name":t.tableRowClassName,"highlight-current-row":"",border:"",lazy:"",load:t.load,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"current-change":t.handleCurrentChange}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),r("el-table-column",{attrs:{prop:"contractNumber",label:"合同编号",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"contractName",label:"合同名称",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"itemNumber",label:"项目编号",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"itemName",label:"项目名称",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"contractTypesName",label:"合同性质",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"contractTime",label:"签约时间",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"dutyUsername",label:"责任人",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{prop:"createUsername",label:"制单人"}})],1)],1)],1)},staticRenderFns:[]};var u=r("C7Lr")(l,i,!1,function(t){r("fC7j")},null,null);e.default=u.exports},fC7j:function(t,e){}});
//# sourceMappingURL=26.87a7eade246b6c91fafd.js.map